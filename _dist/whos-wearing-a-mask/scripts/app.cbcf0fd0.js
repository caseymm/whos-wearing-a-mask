import{c as t,i as n,a as e,b as r,d as i,e as o,f as u,s as a}from"./set.0e21b492.chunk.js";var c=Math.sqrt(50),s=Math.sqrt(10),l=Math.sqrt(2);function f(t,n,e){var r=(n-t)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=c?10:o>=s?5:o>=l?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=c?10:o>=s?5:o>=l?2:1)}function h(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=c?i*=10:o>=s?i*=5:o>=l&&(i*=2),n<t?-i:i}var g=Array.prototype.slice;function d(t){return t}function m(t){return"translate("+(t+.5)+",0)"}function p(t){return"translate(0,"+(t+.5)+")"}function y(t){return function(n){return+t(n)}}function v(t){var n=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(n=Math.round(n)),function(e){return+t(e)+n}}function M(){return!this.__axis}function _(t,n){var e=[],r=null,i=null,o=6,u=6,a=3,c=1===t||4===t?-1:1,s=4===t||2===t?"x":"y",l=1===t||3===t?m:p;function f(f){var h=null==r?n.ticks?n.ticks.apply(n,e):n.domain():r,g=null==i?n.tickFormat?n.tickFormat.apply(n,e):d:i,m=Math.max(o,0)+a,p=n.range(),_=+p[0]+.5,x=+p[p.length-1]+.5,w=(n.bandwidth?v:y)(n.copy()),T=f.selection?f.selection():f,C=T.selectAll(".domain").data([null]),b=T.selectAll(".tick").data(h,n).order(),D=b.exit(),U=b.enter().append("g").attr("class","tick"),k=b.select("line"),F=b.select("text");C=C.merge(C.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),b=b.merge(U),k=k.merge(U.append("line").attr("stroke","currentColor").attr(s+"2",c*o)),F=F.merge(U.append("text").attr("fill","currentColor").attr(s,c*m).attr("dy",1===t?"0em":3===t?"0.71em":"0.32em")),f!==T&&(C=C.transition(f),b=b.transition(f),k=k.transition(f),F=F.transition(f),D=D.transition(f).attr("opacity",1e-6).attr("transform",(function(t){return isFinite(t=w(t))?l(t):this.getAttribute("transform")})),U.attr("opacity",1e-6).attr("transform",(function(t){var n=this.parentNode.__axis;return l(n&&isFinite(n=n(t))?n:w(t))}))),D.remove(),C.attr("d",4===t||2==t?u?"M"+c*u+","+_+"H0.5V"+x+"H"+c*u:"M0.5,"+_+"V"+x:u?"M"+_+","+c*u+"V0.5H"+x+"V"+c*u:"M"+_+",0.5H"+x),b.attr("opacity",1).attr("transform",(function(t){return l(w(t))})),k.attr(s+"2",c*o),F.attr(s,c*m).text(g),T.filter(M).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===t?"start":4===t?"end":"middle"),T.each((function(){this.__axis=w}))}return f.scale=function(t){return arguments.length?(n=t,f):n},f.ticks=function(){return e=g.call(arguments),f},f.tickArguments=function(t){return arguments.length?(e=null==t?[]:g.call(t),f):e.slice()},f.tickValues=function(t){return arguments.length?(r=null==t?null:g.call(t),f):r&&r.slice()},f.tickFormat=function(t){return arguments.length?(i=t,f):i},f.tickSize=function(t){return arguments.length?(o=u=+t,f):o},f.tickSizeInner=function(t){return arguments.length?(o=+t,f):o},f.tickSizeOuter=function(t){return arguments.length?(u=+t,f):u},f.tickPadding=function(t){return arguments.length?(a=+t,f):a},f}function x(t,n){n||(n=[]);var e,r=t?Math.min(n.length,t.length):0,i=n.slice();return function(o){for(e=0;e<r;++e)i[e]=t[e]*(1-o)+n[e]*o;return i}}function w(t,n){var e,r=n?n.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),u=new Array(r);for(e=0;e<i;++e)o[e]=b(t[e],n[e]);for(;e<r;++e)u[e]=n[e];return function(t){for(e=0;e<i;++e)u[e]=o[e](t);return u}}function T(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}function C(t,n){var e,r={},i={};for(e in null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={}),n)e in t?r[e]=b(t[e],n[e]):i[e]=n[e];return function(t){for(e in r)i[e]=r[e](t);return i}}function b(o,u){var a,c=typeof u;return null==u||"boolean"===c?t(u):("number"===c?n:"string"===c?(a=e(u))?(u=a,r):i:u instanceof e?r:u instanceof Date?T:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(u)?x:Array.isArray(u)?w:"function"!=typeof u.valueOf&&"function"!=typeof u.toString||isNaN(u)?C:n)(o,u)}function D(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}var U=Math.PI,k=2*U,F=k-1e-6;function S(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function A(){return new S}function N(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function Y(t){return(t=N(Math.abs(t)))?t[1]:NaN}S.prototype=A.prototype={constructor:S,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,e,r){this._+="Q"+ +t+","+ +n+","+(this._x1=+e)+","+(this._y1=+r)},bezierCurveTo:function(t,n,e,r,i,o){this._+="C"+ +t+","+ +n+","+ +e+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,n,e,r,i){t=+t,n=+n,e=+e,r=+r,i=+i;var o=this._x1,u=this._y1,a=e-t,c=r-n,s=o-t,l=u-n,f=s*s+l*l;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(f>1e-6)if(Math.abs(l*a-c*s)>1e-6&&i){var h=e-o,g=r-u,d=a*a+c*c,m=h*h+g*g,p=Math.sqrt(d),y=Math.sqrt(f),v=i*Math.tan((U-Math.acos((d+f-m)/(2*p*y)))/2),M=v/y,_=v/p;Math.abs(M-1)>1e-6&&(this._+="L"+(t+M*s)+","+(n+M*l)),this._+="A"+i+","+i+",0,0,"+ +(l*h>s*g)+","+(this._x1=t+_*a)+","+(this._y1=n+_*c)}else this._+="L"+(this._x1=t)+","+(this._y1=n);else;},arc:function(t,n,e,r,i,o){t=+t,n=+n,o=!!o;var u=(e=+e)*Math.cos(r),a=e*Math.sin(r),c=t+u,s=n+a,l=1^o,f=o?r-i:i-r;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+c+","+s:(Math.abs(this._x1-c)>1e-6||Math.abs(this._y1-s)>1e-6)&&(this._+="L"+c+","+s),e&&(f<0&&(f=f%k+k),f>F?this._+="A"+e+","+e+",0,1,"+l+","+(t-u)+","+(n-a)+"A"+e+","+e+",0,1,"+l+","+(this._x1=c)+","+(this._y1=s):f>1e-6&&(this._+="A"+e+","+e+",0,"+ +(f>=U)+","+l+","+(this._x1=t+e*Math.cos(i))+","+(this._y1=n+e*Math.sin(i))))},rect:function(t,n,e,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +r+"h"+-e+"Z"},toString:function(){return this._}};var H,L=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function z(t){if(!(n=L.exec(t)))throw new Error("invalid format: "+t);var n;return new j({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}function j(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function E(t,n){var e=N(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}z.prototype=j.prototype,j.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var V={"%":function(t,n){return(100*t).toFixed(n)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},g:function(t,n){return t.toPrecision(n)},o:function(t){return Math.round(t).toString(8)},p:function(t,n){return E(100*t,n)},r:E,s:function(t,n){var e=N(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(H=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,u=r.length;return o===u?r:o>u?r+new Array(o-u+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+N(t,Math.max(0,n+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function Z(t){return t}var P,O,q,W=Array.prototype.map,I=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];function X(t){var n,e,r=void 0===t.grouping||void 0===t.thousands?Z:(n=W.call(t.grouping,Number),e=t.thousands+"",function(t,r){for(var i=t.length,o=[],u=0,a=n[0],c=0;i>0&&a>0&&(c+a+1>r&&(a=Math.max(1,r-c)),o.push(t.substring(i-=a,i+a)),!((c+=a+1)>r));)a=n[u=(u+1)%n.length];return o.reverse().join(e)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",u=void 0===t.decimal?".":t.decimal+"",a=void 0===t.numerals?Z:function(t){return function(n){return n.replace(/[0-9]/g,(function(n){return t[+n]}))}}(W.call(t.numerals,String)),c=void 0===t.percent?"%":t.percent+"",s=void 0===t.minus?"-":t.minus+"",l=void 0===t.nan?"NaN":t.nan+"";function f(t){var n=(t=z(t)).fill,e=t.align,f=t.sign,h=t.symbol,g=t.zero,d=t.width,m=t.comma,p=t.precision,y=t.trim,v=t.type;"n"===v?(m=!0,v="g"):V[v]||(void 0===p&&(p=12),y=!0,v="g"),(g||"0"===n&&"="===e)&&(g=!0,n="0",e="=");var M="$"===h?i:"#"===h&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",_="$"===h?o:/[%p]/.test(v)?c:"",x=V[v],w=/[defgprs%]/.test(v);function T(t){var i,o,c,h=M,T=_;if("c"===v)T=x(t)+T,t="";else{var C=(t=+t)<0||1/t<0;if(t=isNaN(t)?l:x(Math.abs(t),p),y&&(t=function(t){t:for(var n,e=t.length,r=1,i=-1;r<e;++r)switch(t[r]){case".":i=n=r;break;case"0":0===i&&(i=r),n=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(n+1):t}(t)),C&&0==+t&&"+"!==f&&(C=!1),h=(C?"("===f?f:s:"-"===f||"("===f?"":f)+h,T=("s"===v?I[8+H/3]:"")+T+(C&&"("===f?")":""),w)for(i=-1,o=t.length;++i<o;)if(48>(c=t.charCodeAt(i))||c>57){T=(46===c?u+t.slice(i+1):t.slice(i))+T,t=t.slice(0,i);break}}m&&!g&&(t=r(t,1/0));var b=h.length+t.length+T.length,D=b<d?new Array(d-b+1).join(n):"";switch(m&&g&&(t=r(D+t,D.length?d-T.length:1/0),D=""),e){case"<":t=h+t+T+D;break;case"=":t=h+D+t+T;break;case"^":t=D.slice(0,b=D.length>>1)+h+t+T+D.slice(b);break;default:t=D+h+t+T}return a(t)}return p=void 0===p?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,p)):Math.max(0,Math.min(20,p)),T.toString=function(){return t+""},T}return{format:f,formatPrefix:function(t,n){var e=f(((t=z(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Y(n)/3))),i=Math.pow(10,-r),o=I[8+r/3];return function(t){return e(i*t)+o}}}}function $(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t)}return this}P=X({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),O=P.format,q=P.formatPrefix;var J=Array.prototype,Q=J.map,B=J.slice;function G(t){return+t}var R=[0,1];function K(t){return t}function tt(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:function(t){return function(){return t}}(isNaN(n)?NaN:.5)}function nt(t){var n,e=t[0],r=t[t.length-1];return e>r&&(n=e,e=r,r=n),function(t){return Math.max(e,Math.min(r,t))}}function et(t,n,e){var r=t[0],i=t[1],o=n[0],u=n[1];return i<r?(r=tt(i,r),o=e(u,o)):(r=tt(r,i),o=e(o,u)),function(t){return o(r(t))}}function rt(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),u=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++a<r;)i[a]=tt(t[a],t[a+1]),u[a]=e(n[a],n[a+1]);return function(n){var e=o(t,n,1,r)-1;return u[e](i[e](n))}}function it(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function ot(t,e){return function(){var t,e,r,i,o,u,a=R,c=R,s=b,l=K;function f(){return i=Math.min(a.length,c.length)>2?rt:et,o=u=null,h}function h(n){return isNaN(n=+n)?r:(o||(o=i(a.map(t),c,s)))(t(l(n)))}return h.invert=function(r){return l(e((u||(u=i(c,a.map(t),n)))(r)))},h.domain=function(t){return arguments.length?(a=Q.call(t,G),l===K||(l=nt(a)),f()):a.slice()},h.range=function(t){return arguments.length?(c=B.call(t),f()):c.slice()},h.rangeRound=function(t){return c=B.call(t),s=D,f()},h.clamp=function(t){return arguments.length?(l=t?nt(a):K,h):l!==K},h.interpolate=function(t){return arguments.length?(s=t,f()):s},h.unknown=function(t){return arguments.length?(r=t,h):r},function(n,r){return t=n,e=r,f()}}()(t,e)}function ut(t,n,e,r){var i,o=h(t,n,e);switch((r=z(null==r?",f":r)).type){case"s":var u=Math.max(Math.abs(t),Math.abs(n));return null!=r.precision||isNaN(i=function(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Y(n)/3)))-Y(Math.abs(t)))}(o,u))||(r.precision=i),q(r,u);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,Y(n)-Y(t))+1}(o,Math.max(Math.abs(t),Math.abs(n))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-Y(Math.abs(t)))}(o))||(r.precision=i-2*("%"===r.type))}return O(r)}function at(t){var n=t.domain;return t.ticks=function(t){var e=n();return function(t,n,e){var r,i,o,u,a=-1;if(e=+e,(t=+t)===(n=+n)&&e>0)return[t];if((r=n<t)&&(i=t,t=n,n=i),0===(u=f(t,n,e))||!isFinite(u))return[];if(u>0)for(t=Math.ceil(t/u),n=Math.floor(n/u),o=new Array(i=Math.ceil(n-t+1));++a<i;)o[a]=(t+a)*u;else for(t=Math.floor(t*u),n=Math.ceil(n*u),o=new Array(i=Math.ceil(t-n+1));++a<i;)o[a]=(t-a)/u;return r&&o.reverse(),o}(e[0],e[e.length-1],null==t?10:t)},t.tickFormat=function(t,e){var r=n();return ut(r[0],r[r.length-1],null==t?10:t,e)},t.nice=function(e){null==e&&(e=10);var r,i=n(),o=0,u=i.length-1,a=i[o],c=i[u];return c<a&&(r=a,a=c,c=r,r=o,o=u,u=r),(r=f(a,c,e))>0?r=f(a=Math.floor(a/r)*r,c=Math.ceil(c/r)*r,e):r<0&&(r=f(a=Math.ceil(a*r)/r,c=Math.floor(c*r)/r,e)),r>0?(i[o]=Math.floor(a/r)*r,i[u]=Math.ceil(c/r)*r,n(i)):r<0&&(i[o]=Math.ceil(a*r)/r,i[u]=Math.floor(c*r)/r,n(i)),t},t}var ct=new Date,st=new Date;function lt(t,n,e,r){function i(n){return t(n=0===arguments.length?new Date:new Date(+n)),n}return i.floor=function(n){return t(n=new Date(+n)),n},i.ceil=function(e){return t(e=new Date(e-1)),n(e,1),t(e),e},i.round=function(t){var n=i(t),e=i.ceil(t);return t-n<e-t?n:e},i.offset=function(t,e){return n(t=new Date(+t),null==e?1:Math.floor(e)),t},i.range=function(e,r,o){var u,a=[];if(e=i.ceil(e),o=null==o?1:Math.floor(o),!(e<r&&o>0))return a;do{a.push(u=new Date(+e)),n(e,o),t(e)}while(u<e&&e<r);return a},i.filter=function(e){return lt((function(n){if(n>=n)for(;t(n),!e(n);)n.setTime(n-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;n(t,-1),!e(t););else for(;--r>=0;)for(;n(t,1),!e(t););}))},e&&(i.count=function(n,r){return ct.setTime(+n),st.setTime(+r),t(ct),t(st),Math.floor(e(ct,st))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(n){return r(n)%t==0}:function(n){return i.count(0,n)%t==0}):i:null}),i}var ft=lt((function(){}),(function(t,n){t.setTime(+t+n)}),(function(t,n){return n-t}));ft.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?lt((function(n){n.setTime(Math.floor(n/t)*t)}),(function(n,e){n.setTime(+n+e*t)}),(function(n,e){return(e-n)/t})):ft:null};var ht=lt((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,n){t.setTime(+t+1e3*n)}),(function(t,n){return(n-t)/1e3}),(function(t){return t.getUTCSeconds()})),gt=lt((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())}),(function(t,n){t.setTime(+t+6e4*n)}),(function(t,n){return(n-t)/6e4}),(function(t){return t.getMinutes()})),dt=lt((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-6e4*t.getMinutes())}),(function(t,n){t.setTime(+t+36e5*n)}),(function(t,n){return(n-t)/36e5}),(function(t){return t.getHours()})),mt=lt((function(t){t.setHours(0,0,0,0)}),(function(t,n){t.setDate(t.getDate()+n)}),(function(t,n){return(n-t-6e4*(n.getTimezoneOffset()-t.getTimezoneOffset()))/864e5}),(function(t){return t.getDate()-1}));function pt(t){return lt((function(n){n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)}),(function(t,n){t.setDate(t.getDate()+7*n)}),(function(t,n){return(n-t-6e4*(n.getTimezoneOffset()-t.getTimezoneOffset()))/6048e5}))}var yt=pt(0),vt=pt(1),Mt=(pt(2),pt(3),pt(4)),_t=(pt(5),pt(6),lt((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,n){t.setMonth(t.getMonth()+n)}),(function(t,n){return n.getMonth()-t.getMonth()+12*(n.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()}))),xt=lt((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n)}),(function(t,n){return n.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));xt.every=function(t){return isFinite(t=Math.floor(t))&&t>0?lt((function(n){n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)}),(function(n,e){n.setFullYear(n.getFullYear()+e*t)})):null};var wt=lt((function(t){t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCDate(t.getUTCDate()+n)}),(function(t,n){return(n-t)/864e5}),(function(t){return t.getUTCDate()-1}));function Tt(t){return lt((function(n){n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCDate(t.getUTCDate()+7*n)}),(function(t,n){return(n-t)/6048e5}))}var Ct=Tt(0),bt=Tt(1),Dt=(Tt(2),Tt(3),Tt(4)),Ut=(Tt(5),Tt(6),lt((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n)}),(function(t,n){return n.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()})));function kt(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Ft(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function St(t,n,e){return{y:t,m:n,d:e,H:0,M:0,S:0,L:0}}Ut.every=function(t){return isFinite(t=Math.floor(t))&&t>0?lt((function(n){n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)}),(function(n,e){n.setUTCFullYear(n.getUTCFullYear()+e*t)})):null};var At,Nt,Yt={"-":"",_:" ",0:"0"},Ht=/^\s*\d+/,Lt=/^%/,zt=/[\\^$*+?|[\]().{}]/g;function jt(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<e?new Array(e-o+1).join(n)+i:i)}function Et(t){return t.replace(zt,"\\$&")}function Vt(t){return new RegExp("^(?:"+t.map(Et).join("|")+")","i")}function Zt(t){for(var n={},e=-1,r=t.length;++e<r;)n[t[e].toLowerCase()]=e;return n}function Pt(t,n,e){var r=Ht.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function Ot(t,n,e){var r=Ht.exec(n.slice(e,e+1));return r?(t.u=+r[0],e+r[0].length):-1}function qt(t,n,e){var r=Ht.exec(n.slice(e,e+2));return r?(t.U=+r[0],e+r[0].length):-1}function Wt(t,n,e){var r=Ht.exec(n.slice(e,e+2));return r?(t.V=+r[0],e+r[0].length):-1}function It(t,n,e){var r=Ht.exec(n.slice(e,e+2));return r?(t.W=+r[0],e+r[0].length):-1}function Xt(t,n,e){var r=Ht.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function $t(t,n,e){var r=Ht.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function Jt(t,n,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function Qt(t,n,e){var r=Ht.exec(n.slice(e,e+1));return r?(t.q=3*r[0]-3,e+r[0].length):-1}function Bt(t,n,e){var r=Ht.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function Gt(t,n,e){var r=Ht.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function Rt(t,n,e){var r=Ht.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function Kt(t,n,e){var r=Ht.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function tn(t,n,e){var r=Ht.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function nn(t,n,e){var r=Ht.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function en(t,n,e){var r=Ht.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function rn(t,n,e){var r=Ht.exec(n.slice(e,e+6));return r?(t.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function on(t,n,e){var r=Lt.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function un(t,n,e){var r=Ht.exec(n.slice(e));return r?(t.Q=+r[0],e+r[0].length):-1}function an(t,n,e){var r=Ht.exec(n.slice(e));return r?(t.s=+r[0],e+r[0].length):-1}function cn(t,n){return jt(t.getDate(),n,2)}function sn(t,n){return jt(t.getHours(),n,2)}function ln(t,n){return jt(t.getHours()%12||12,n,2)}function fn(t,n){return jt(1+mt.count(xt(t),t),n,3)}function hn(t,n){return jt(t.getMilliseconds(),n,3)}function gn(t,n){return hn(t,n)+"000"}function dn(t,n){return jt(t.getMonth()+1,n,2)}function mn(t,n){return jt(t.getMinutes(),n,2)}function pn(t,n){return jt(t.getSeconds(),n,2)}function yn(t){var n=t.getDay();return 0===n?7:n}function vn(t,n){return jt(yt.count(xt(t)-1,t),n,2)}function Mn(t,n){var e=t.getDay();return t=e>=4||0===e?Mt(t):Mt.ceil(t),jt(Mt.count(xt(t),t)+(4===xt(t).getDay()),n,2)}function _n(t){return t.getDay()}function xn(t,n){return jt(vt.count(xt(t)-1,t),n,2)}function wn(t,n){return jt(t.getFullYear()%100,n,2)}function Tn(t,n){return jt(t.getFullYear()%1e4,n,4)}function Cn(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+jt(n/60|0,"0",2)+jt(n%60,"0",2)}function bn(t,n){return jt(t.getUTCDate(),n,2)}function Dn(t,n){return jt(t.getUTCHours(),n,2)}function Un(t,n){return jt(t.getUTCHours()%12||12,n,2)}function kn(t,n){return jt(1+wt.count(Ut(t),t),n,3)}function Fn(t,n){return jt(t.getUTCMilliseconds(),n,3)}function Sn(t,n){return Fn(t,n)+"000"}function An(t,n){return jt(t.getUTCMonth()+1,n,2)}function Nn(t,n){return jt(t.getUTCMinutes(),n,2)}function Yn(t,n){return jt(t.getUTCSeconds(),n,2)}function Hn(t){var n=t.getUTCDay();return 0===n?7:n}function Ln(t,n){return jt(Ct.count(Ut(t)-1,t),n,2)}function zn(t,n){var e=t.getUTCDay();return t=e>=4||0===e?Dt(t):Dt.ceil(t),jt(Dt.count(Ut(t),t)+(4===Ut(t).getUTCDay()),n,2)}function jn(t){return t.getUTCDay()}function En(t,n){return jt(bt.count(Ut(t)-1,t),n,2)}function Vn(t,n){return jt(t.getUTCFullYear()%100,n,2)}function Zn(t,n){return jt(t.getUTCFullYear()%1e4,n,4)}function Pn(){return"+0000"}function On(){return"%"}function qn(t){return+t}function Wn(t){return Math.floor(+t/1e3)}!function(t){At=function(t){var n=t.dateTime,e=t.date,r=t.time,i=t.periods,o=t.days,u=t.shortDays,a=t.months,c=t.shortMonths,s=Vt(i),l=Zt(i),f=Vt(o),h=Zt(o),g=Vt(u),d=Zt(u),m=Vt(a),p=Zt(a),y=Vt(c),v=Zt(c),M={a:function(t){return u[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return c[t.getMonth()]},B:function(t){return a[t.getMonth()]},c:null,d:cn,e:cn,f:gn,H:sn,I:ln,j:fn,L:hn,m:dn,M:mn,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:qn,s:Wn,S:pn,u:yn,U:vn,V:Mn,w:_n,W:xn,x:null,X:null,y:wn,Y:Tn,Z:Cn,"%":On},_={a:function(t){return u[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return c[t.getUTCMonth()]},B:function(t){return a[t.getUTCMonth()]},c:null,d:bn,e:bn,f:Sn,H:Dn,I:Un,j:kn,L:Fn,m:An,M:Nn,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:qn,s:Wn,S:Yn,u:Hn,U:Ln,V:zn,w:jn,W:En,x:null,X:null,y:Vn,Y:Zn,Z:Pn,"%":On},x={a:function(t,n,e){var r=g.exec(n.slice(e));return r?(t.w=d[r[0].toLowerCase()],e+r[0].length):-1},A:function(t,n,e){var r=f.exec(n.slice(e));return r?(t.w=h[r[0].toLowerCase()],e+r[0].length):-1},b:function(t,n,e){var r=y.exec(n.slice(e));return r?(t.m=v[r[0].toLowerCase()],e+r[0].length):-1},B:function(t,n,e){var r=m.exec(n.slice(e));return r?(t.m=p[r[0].toLowerCase()],e+r[0].length):-1},c:function(t,e,r){return C(t,n,e,r)},d:Gt,e:Gt,f:rn,H:Kt,I:Kt,j:Rt,L:en,m:Bt,M:tn,p:function(t,n,e){var r=s.exec(n.slice(e));return r?(t.p=l[r[0].toLowerCase()],e+r[0].length):-1},q:Qt,Q:un,s:an,S:nn,u:Ot,U:qt,V:Wt,w:Pt,W:It,x:function(t,n,r){return C(t,e,n,r)},X:function(t,n,e){return C(t,r,n,e)},y:$t,Y:Xt,Z:Jt,"%":on};function w(t,n){return function(e){var r,i,o,u=[],a=-1,c=0,s=t.length;for(e instanceof Date||(e=new Date(+e));++a<s;)37===t.charCodeAt(a)&&(u.push(t.slice(c,a)),null!=(i=Yt[r=t.charAt(++a)])?r=t.charAt(++a):i="e"===r?" ":"0",(o=n[r])&&(r=o(e,i)),u.push(r),c=a+1);return u.push(t.slice(c,a)),u.join("")}}function T(t,n){return function(e){var r,i,o=St(1900,void 0,1);if(C(o,t,e+="",0)!=e.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(n&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=Ft(St(o.y,0,1))).getUTCDay(),r=i>4||0===i?bt.ceil(r):bt(r),r=wt.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=kt(St(o.y,0,1))).getDay(),r=i>4||0===i?vt.ceil(r):vt(r),r=mt.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?Ft(St(o.y,0,1)).getUTCDay():kt(St(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,Ft(o)):kt(o)}}function C(t,n,e,r){for(var i,o,u=0,a=n.length,c=e.length;u<a;){if(r>=c)return-1;if(37===(i=n.charCodeAt(u++))){if(i=n.charAt(u++),!(o=x[i in Yt?n.charAt(u++):i])||(r=o(t,e,r))<0)return-1}else if(i!=e.charCodeAt(r++))return-1}return r}return M.x=w(e,M),M.X=w(r,M),M.c=w(n,M),_.x=w(e,_),_.X=w(r,_),_.c=w(n,_),{format:function(t){var n=w(t+="",M);return n.toString=function(){return t},n},parse:function(t){var n=T(t+="",!1);return n.toString=function(){return t},n},utcFormat:function(t){var n=w(t+="",_);return n.toString=function(){return t},n},utcParse:function(t){var n=T(t+="",!0);return n.toString=function(){return t},n}}}(t),Nt=At.format,At.parse,At.utcFormat,At.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function In(t){return new Date(t)}function Xn(t){return t instanceof Date?+t:+new Date(+t)}function $n(t,n,e,r,i,o,a,c,s){var l=ot(K,K),f=l.invert,g=l.domain,d=s(".%L"),m=s(":%S"),p=s("%I:%M"),y=s("%I %p"),v=s("%a %d"),M=s("%b %d"),_=s("%B"),x=s("%Y"),w=[[a,1,1e3],[a,5,5e3],[a,15,15e3],[a,30,3e4],[o,1,6e4],[o,5,3e5],[o,15,9e5],[o,30,18e5],[i,1,36e5],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,864e5],[r,2,1728e5],[e,1,6048e5],[n,1,2592e6],[n,3,7776e6],[t,1,31536e6]];function T(u){return(a(u)<u?d:o(u)<u?m:i(u)<u?p:r(u)<u?y:n(u)<u?e(u)<u?v:M:t(u)<u?_:x)(u)}function C(n,e,r,i){if(null==n&&(n=10),"number"==typeof n){var o=Math.abs(r-e)/n,a=u((function(t){return t[2]})).right(w,o);a===w.length?(i=h(e/31536e6,r/31536e6,n),n=t):a?(i=(a=w[o/w[a-1][2]<w[a][2]/o?a-1:a])[1],n=a[0]):(i=Math.max(h(e,r,n),1),n=c)}return null==i?n:n.every(i)}return l.invert=function(t){return new Date(f(t))},l.domain=function(t){return arguments.length?g(Q.call(t,Xn)):g().map(In)},l.ticks=function(t,n){var e,r=g(),i=r[0],o=r[r.length-1],u=o<i;return u&&(e=i,i=o,o=e),e=(e=C(t,i,o,n))?e.range(i,o+1):[],u?e.reverse():e},l.tickFormat=function(t,n){return null==n?T:s(n)},l.nice=function(t,n){var e=g();return(t=C(t,e[0],e[e.length-1],n))?g(function(t,n){var e,r=0,i=(t=t.slice()).length-1,o=t[r],u=t[i];return u<o&&(e=r,r=i,i=e,e=o,o=u,u=e),t[r]=n.floor(o),t[i]=n.ceil(u),t}(e,t)):l},l.copy=function(){return it(l,$n(t,n,e,r,i,o,a,c,s))},l}function Jn(t){return function(){return t}}function Qn(t){this._context=t}function Bn(t){return new Qn(t)}function Gn(t){return t[0]}function Rn(t){return t[1]}function Kn(t){return t<0?-1:1}function te(t,n,e){var r=t._x1-t._x0,i=n-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),u=(e-t._y1)/(i||r<0&&-0),a=(o*i+u*r)/(r+i);return(Kn(o)+Kn(u))*Math.min(Math.abs(o),Math.abs(u),.5*Math.abs(a))||0}function ne(t,n){var e=t._x1-t._x0;return e?(3*(t._y1-t._y0)/e-n)/2:n}function ee(t,n,e){var r=t._x0,i=t._y0,o=t._x1,u=t._y1,a=(o-r)/3;t._context.bezierCurveTo(r+a,i+a*n,o-a,u-a*e,o,u)}function re(t){this._context=t}function ie(t){this._context=t}function oe(t){return new re(t)}Qn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n)}}},re.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ee(this,this._t0,ne(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var e=NaN;if(n=+n,(t=+t)!==this._x1||n!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,ee(this,ne(this,e=te(this,t,n)),e);break;default:ee(this,this._t0,e=te(this,t,n))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=e}}},(function(t){this._context=new ie(t)}.prototype=Object.create(re.prototype)).point=function(t,n){re.prototype.point.call(this,n,t)},ie.prototype={moveTo:function(t,n){this._context.moveTo(n,t)},closePath:function(){this._context.closePath()},lineTo:function(t,n){this._context.lineTo(n,t)},bezierCurveTo:function(t,n,e,r,i,o){this._context.bezierCurveTo(n,t,r,e,o,i)}};function ue(t,n,e,r,i){let o={},u=[];t.forEach(t=>{t.date=(t=>{let n=t.split("-");return n[2].length<2&&(n[2]="0"+n[2]),n.join("-")})(t.date),o[t.date]?o[t.date].push(t):o[t.date]=[t]}),Object.keys(o).forEach(t=>{const n=o[t].filter(t=>"yes"===t.mask&&"yes"===t.mask_correct),e=new Date(t),r={date:e.setDate(e.getDate()+1),pctCorrect:(i=n,a=o[t],Math.round(i.length/a.length*100))};var i,a;u.push(r)}),u.sort((t,n)=>t.date>n.date?1:-1);let a=5,c=5,s=5,l=5,f=e-l-c,h=r-a-s,g=function(){return $.apply($n(xt,_t,yt,mt,dt,gt,ht,ft,Nt).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}().range([0,f]).domain(function(t,n){var e,r,i,o=t.length,u=-1;if(null==n){for(;++u<o;)if(null!=(e=t[u])&&e>=e)for(r=i=e;++u<o;)null!=(e=t[u])&&(r>e&&(r=e),i<e&&(i=e))}else for(;++u<o;)if(null!=(e=n(t[u],u,t))&&e>=e)for(r=i=e;++u<o;)null!=(e=n(t[u],u,t))&&(r>e&&(r=e),i<e&&(i=e));return[r,i]}(u,(function(t){return t.date}))),d=function t(){var n=ot(K,K);return n.copy=function(){return it(n,t())},$.apply(n,arguments),at(n)}().domain([0,100]).range([h,0]),m=function(){var t=Gn,n=Rn,e=Jn(!0),r=null,i=Bn,o=null;function u(u){var a,c,s,l=u.length,f=!1;for(null==r&&(o=i(s=A())),a=0;a<=l;++a)!(a<l&&e(c=u[a],a,u))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+t(c,a,u),+n(c,a,u));if(s)return o=null,s+""||null}return u.x=function(n){return arguments.length?(t="function"==typeof n?n:Jn(+n),u):t},u.y=function(t){return arguments.length?(n="function"==typeof t?t:Jn(+t),u):n},u.defined=function(t){return arguments.length?(e="function"==typeof t?t:Jn(!!t),u):e},u.curve=function(t){return arguments.length?(i=t,null!=r&&(o=i(r)),u):i},u.context=function(t){return arguments.length?(null==t?r=o=null:o=i(r=t),u):r},u}().x((function(t,n){return g(t.date)})).y((function(t){return d(t.pctCorrect)})).curve(oe),p=n.append("svg").attr("width",f+l+c).attr("height",h+a+s).append("g").attr("transform","translate("+l+","+a+")");p.append("g").attr("class","x axis").attr("transform","translate(0,"+h+")").call(_(3,g)),p.append("g").attr("class","y axis").call(function(t){return _(4,t)}(d)),p.append("path").datum(u).attr("class","line").attr("d",m),p.selectAll(".dot").data(u).enter().append("circle").attr("class","dot").attr("cx",(function(t,n){return g(t.date)})).attr("cy",(function(t){return d(t.pctCorrect)})).attr("r",i)}let ae;console.log("index");const ce=(t,n)=>Math.round(t.length/n.length*100);let se=415,le=10,fe=10;window.innerWidth<448&&(se=window.innerWidth-30-fe-le);const he=t=>{ae=JSON.parse(t.body),ae.forEach(t=>{"Casey"!==t.logger&&"Grumpy "!==t.logger&&console.log(t.logger)}),ue(ae,a("#overall-chart"),se,75,5);document.getElementById("info");console.log("all people "+ae.length);const n=ae.filter(t=>"yes"===t.mask),e=n.filter(t=>"yes"===t.mask_correct);a("#total-pct").html(ce(e,ae)+"%"),a("#days").html((()=>{let t,n;t=new Date,n=new Date("2020-06-26");let e=Math.abs(t-n)/1e3;return Math.floor(e/86400)})()),a("#total-people").html(ae.length),a("#total-masks").html(n.length),a("#total-mask-correct").html(e.length),console.log(""),console.log("age groups");["youth","young-adult","middle-age","elderly"].forEach(t=>{const n=ae.filter(n=>n.age_group===t),e=n.filter(t=>"yes"===t.mask&&"yes"===t.mask_correct);console.log(t,n.length,`masks correct: ${ce(e,n)}%`);const r=a("#block-"+t);r.select(".lg-stat").html(ce(e,n)+"%"),ue(n,r.select(".age-chart"),123,50,3),r.select(".total-tracked").html(n.length)})};fetch("https://bwb9uvadvf.execute-api.us-west-1.amazonaws.com/prod/people").then(t=>t.json()).then(t=>he(t));
//# sourceMappingURL=app.cbcf0fd0.js.map
